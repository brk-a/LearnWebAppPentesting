/**get user info from username. assume user is authenticated */
app.post("/user", (req, res) => {
    //user authenticated
    //...

    /** checking typeof is the fix to the vuln */
    if(typeof(req.body.username)!=='string'){
        return res.status(400).json({"message": "Invalid username"})
    }

    db.collection("users").find({
        "username": req.body.username,
    }, (err, result) => {
        if(err || !result){
            return res.status(500).send({message: "Error finding user"})
        } else {
            res.status(200).send(result)
        }
    })
})