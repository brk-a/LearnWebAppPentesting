# endpoint analysis
### reverse-engineer an API
* handy when an API is not documented or the documentation is unavailable to you
    - you will need to build out your own collection of requests
* two methods that can be deployed to build out our own collection
    - use `postman` (or equivalent) to collect API requests and manually build out a collection: this method often requires more time but is worth knowing in case you have no other way
    - automatically build out an API specification using `mitmproxy2swagger`
##### 1. building a collection in postman
* in the instance where there is no documentation and no specification file, you must reverse-engineer the API based on your interactions with it
* mapping an API with several endpoints and a few methods can quickly grow into quite a large attack surface
* to manage this process, build the requests under a collection in order to thoroughly hack the API
* postman can help you keep track of all of these requests: there are two ways to manually reverse- engineer an API with postman
     - construct each request &rarr; can be a bit cumbersome; it will allow you to add the precise requests you care about
     - proxy-web-traffic through postman and then use it to capture a stream of requests &rarr;makes it much easier to construct requests within postman but you will have to remove or ignore unrelated requests
     - god mode &rarr; automatically document APIs with mitmproxy2swagger
* launch postman

    ```bash
        postman
    ```

* create a workspace to save your collections in
* to build your own collection in postman with the proxy, use the `Capture Requests` button found at the bottom right of the postman window
* in the `Capture requests` window, select `Enable proxy`
    - the port should match with the number that is set up in `FoxyProxy` (5555)
* enable the postman proxy, add your target URL to the `URL must contain` field
* click the `Start Capture` button