# anatomy of real-world API breaches
### 1. coinbase
* coinbase is a crypto trading platform
#### the vulnerability
* a vulnerability that allowed a user to sell crypto that they did not own
    - a missing logic validation check in the brokerage application
    - the app could not  confirm that the user submitting the transaction owned the account that initiated the transaction
* OWASP #1: broken object-level authorisation (BOLA)
    - user A is able to act on behalf of user B w/o the authorisation of user B
#### what the researcher did
* look at the traffic between the web interface and the backend
* reverse-engineered or sniffed the traffic between the application and the backend and identified the API calls
* identified four parameters in said call
    - the product ID &rarr; what he was trading
    - the order, in this case, a sell order
    - a source account
    - a target account
* researcher was able to manipulate said parameters to trade crypto on an account that did not belong to him
    - overwrote the source account to be an account that did not belong to him
    - this is not something you could even possibly do through the web interface, however,  in an API call, you can construct any type of request that you like
    - man, simply, changed the source account from user A to user B
### 2. USPS
* the *PS* stands for postal service
#### the vulnerability
* a user could set up an account and properly authenticate, however, once they were in, they could not only see their own records, but they could see the records of anyone with an address in the system
* OWASP #1: BOLA
    - user A is able to access the data/records of user B w/o the authorisation of user B
#### what the researcher did
* set up an account and properly authenticate
* once they were in, they could not only see their own records, but they could see the records of anyone with an address in the system
### 3. peloton
* peloton, the glorified treadmill company
#### the vulnerability
* had an API that had no authentication: literally wide open to the outside world
* API had full access to the entire database whether or not a user had marked their records as private
* first one is OWASP #1: BOLA
    - user A is able to access the data/records of user B w/o the authorisation of user B
* second one is OWASP #2: broken authentication (BA)
    - user A is able to access the data/records that s/he should not access
#### what the researcher did
* found the unauthenticated endpoint
* was able to access the data/records of users that had marked themselves as private
### 4. Venmo