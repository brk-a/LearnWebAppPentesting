# rate limiting
* [more info][def]
* idea is to set a limit on the number of inbound requests to achieve a specified service and reliability level
* said limits can be set in the `RateLimit` header
    - `RateLimit-Limit`
    - `RateLimit-Remaining`
    - `RateLimit-Reset`
    - etc
* have the server return HTTP status code 429 when the limits are reached
* configure individual endpoints for scope: user, origin, global/local, resource etc
### why rate-limit?
* TL;DR: because rate-limit
* [OWASP-API-4: Unrestricted Resource Consumption][def2] &rarr; rate-limiting prevents this vulnerability
* availability of service &rarr; you want your API to have a reputation of availability (quick responses etc); also, rate-limiting prevents Dos and DDos attacks
* security &rarr; rate-limiting is a first-step-prevention-measure against DoS, DDoS, brute-forcing etc
* budget &rarr; two aspects: operational cost (cloud services) and the cost to the organisation when a security incident occurs
    - rate-limiting reduces opex
    - rate-limiting is cheaper that the monetary (not including reputational and such others) cost to the organisation when a security incident occurs. example: [crowdstrike][def3]
### layers
* in order, top-to-bottom/out-to-in:
    * gateway/network appliance
    * service
    * server
    * endpoint
    * user
    * client signature
    * quota
    * logic
* the earlier you filter out a request the better for your system (and yourself)
    - example: configure your load balancer to allow X amount of requests per sencond per IP address; this catches malicious actors at the gateway level so no need to balance the load programmatically at the \[business\] logic level
* [OWASP crAPI][def4] the ~~crappy~~ API: this tool will help you understand what rate limiting is and how to alleviate it

[def]: https://developer.mozilla.org/en-US/docs/Glossary/Rate_limit
[def2]: https://owasp.org/API-Security/editions/2023/en/0xa4-unrestricted-resource-consumption/
[def3]: https://en.wikipedia.org/wiki/2024_CrowdStrike_incident
[def4]: https://owasp.org/crAPI/