# File & directory ownership

* idea is to see how ownership of files and dirs work
* emphasis on `chown` and `chgrp`; see man pages [here][def] and [here](def2)
* `chown` allows an authorised user to change thw ownership of a file or dir
    * `ch`ange `own`ership
    * recall the three user sections: user owner, group owner and other
    * also, recall this; emphasis on _filename.ext_

        ~~~text
        drwxrw-rw- 3 username usergroup 4096 May 12 03:26 .
        drwxrw-rw- 36 username usergroup 4096 May 12 00:26 ..
        drwxrw-rw- 2 username usergroup 4096 Mar 02 03:18 dirname
        -rwxrw-r-- 1 username usergroup 4096 May 12 03:20 filename.ext
        ... 
        ~~~
    
    * the user owner of _filename.ext_ is _username_ and the group owner is _usergroup_
* suppose we want to change the user owner to _root_
    * login using a [sudo](def1) account if current user is  not a _sudoer_
    * navigate to the dir containing _filename.ext_ 
    * run the following

    ~~~bash
    chown root filename.ext
    ~~~

    * run `ls -la`
    * expect the following

        ~~~text
        drwxrw-rw- 3 username usergroup 4096 May 12 03:26 .
        drwxrw-rw- 36 username usergroup 4096 May 12 00:26 ..
        drwxrw-rw- 2 username usergroup 4096 Mar 02 03:18 dirname
        -rwxrw-r-- 1 root usergroup 4096 May 12 03:20 filename.ext
        ... 
        ~~~
    * the user owner of _filename.ext_ is _root_, not _username_
    * the group owner of _filename.ext_ is _usergroup_
* to change the group owner to _root_, follow the stps above but use `chgrp` instead of `chown`
    * run the following

        ~~~bash
        chgrp root filename.ext
        ~~~

    * expect the following after running `ls -la`

        ~~~bash
         drwxrw-rw- 3 username usergroup 4096 May 12 03:26 .
        drwxrw-rw- 36 username usergroup 4096 May 12 00:26 ..
        drwxrw-rw- 2 username usergroup 4096 Mar 02 03:18 dirname
        -rwxrw-r-- 1 root root 4096 May 12 03:20 filename.ext
        ...    
        ~~~

    * the user owner of _filename.ext_ is _root_
    * the group owner of _filename.ext_ is _root_, not _usergroup_
* use `groups` to see what groups a user belongs to
    * example
    
    ~~~bash
    groups root
    ~~~

[def]: https://man7.org/linux/man-pages/man1/chown.1p.html
[def1]: https://man7.org/linux/man-pages/man8/sudo.8.html
[def2]: https://man7.org/linux/man-pages/man1/chgrp.1.html