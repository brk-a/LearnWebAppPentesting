# cross-site scripting
* a web security vulnerability that allows an attacker to compromise the interactions that users have with a vulnerable application
    * allows an attacker to circumvent the same-origin policy which is designed to segregate different websites from each other
    * allows an attacker to masquerade as a victim user, to carry out any actions that the user is able to perform and to access any of the user's data
    * if the victim user has privileged access within the application, the attacker might be able to gain full control over all of the application's functionality and data
### how it works
* works by manipulating a vulnerable web site so that it returns malicious JS to users
* the attacker can fully compromise their interaction with the application when the malicious code executes inside a victim's browser

    ```mermaid
        ---
        title: how XSS works
        ---
        flowchart LR
            subgraph victim
                a[client]---> |1. makes request to| legitimate-website
                a---> |4. makes request with malicious code to| legitimate-website
            end
            subgraph attacker
                 c[malicious actor] ---> |3. sends polluted response to| a
            end
            subgraph legitimate-website
                b[server]---> |2. responds to| c
                b ---> |5. executes malicious code and responds to| a
                c ---> |6. extracts information from| b
            end
    ```

### XSS proof-of-concept
* one can confirm most kinds of XSS vulnerability by injecting a payload that causes your own browser to execute some arbitrary JS
* it has long been common practice to use the `alert()` function for this purpose because it is short, harmless and not easy to miss when it is successfully called
    * in fact, you solve the majority of our XSS labs by invoking `alert()` in a simulated victim's browser
    * there is a slight hitch if you use Chrome: version 92 onwards (20 July, 2021), cross-origin iframes are prevented from calling `alert()`. since these are used to construct some of the more advanced XSS attacks, you will sometimes need to use an alternative PoC payload. in this scenario, we recommend the `print()` function. if you are interested in learning more about this change and why we like `print()`, check out our blog post on the subject 