#!/usr/bin/bash

# ** goal: get to level 14. password is stored in a file
# called `data.txt`. said file is a hexdump that has been compressed
# many times

ls #data.txt
cat data.txt #gobbledygook (hex dump style)
mkdir /tmp/tmpdir
cp data.txt /tmp/tmpdir
cd /tmp/tmpdir
ls #data.txt
cat data.txt | xxd -r > hexdump
cat hexdump #gobbledygook (binary file style)
file hexdump #gzip compressed file
mv hexdump hexdump.gz #rename in proper format
gzip -d hexdump.gz #returns a file called hexdump
file hexdump #bzip2 compressed file
mv hexdump hexdump.bz2 #rename in proper format
bzip2 -d hexdump.bz2 #returns a file called hexdump
file hexdump #gzip compressed file
mv hexdump hexdump.gz
gzip -d hexdump.gz
file hexdump #POSIX tar archive (GNU)
tar -xvf hexdump #returns file `data5.bin`
file data5.bin #POSIX tar archive (GNU)
tar -xvf data5.bin #returns file `data6.bin`
file data6.bin #bzip2 compressed file
mv data6.bin data6.bin.bz2
bzip2 -d data6.bin.bz2 #returns file data6.bin
file data6.bin #POSIX tar archive (GNU)
tar -xvf data6.bin #returns data8.bin
file data8.bin #gzip compressed file
mv data8.bin data8.bin.gz
gzip -d data8.bin.gz #returns data8.bin
file data8.bin #ascii text file
cat data8.bin #found password
exit
echo p4ssWord > passwd #use the password you found using `cat`
sshpass -p $(cat passwd) ssh bandit14@bandit.labs.overthewire.org -p 2220

# command `xxd` makes a hexdump or does the reverse
# here, we use the flag `r` to do the reverse
# command `gzip` compresses or expands files
# we use the flag `d` to decompress (that is, expand) `hexdump.gz`
# command `bzip2` is a block-sorting file compressor
# the flag `d` to reverse the process
# command `tar` [`t`ape `ar`chiver]is an archiving programme designed to store multiple files
# in a single file (an archive) and to manipulate said archives
# flag `x` extracts files from an archive 
# flag `v` verbosely lists files processed
# flag `f` tells `tar` to use archive file or device ARCHIVE 
# for each command, type `man <CMD_NAME>` in your terminal and press ENTER