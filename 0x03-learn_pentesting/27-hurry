#!/usr/bin/bash

# ** aim is to get to level 27
# time contraint; get the password to `bandit27` asap

#get into `bandit25` using the password you found in `24-byo_shell_script`
sshpass -p $(cat passwd) ssh bandit25@bandit.labs.overthewire.org -p 2220

ls #bandit26.sshkey
ssh -i bandit26.sshkey bandit26@localhost -p 2220 #fails to 
# get into the machine; must be the shell...

which bash #`bandit25` uses `bash`, as expected. what does
#`bandit26` use?

cat /etc/passwd #TMI, my shell. TMI
cat /etc/passwd | grep bandit26 #`bandit26` uses a shell called
#`showtext`. WTF is `showtext`?

cat /usr/bin/showtext #a shell script that exports a `linux` terminal
#and executes a text file `text.txt` using `more`

#reduce the size of your terminal to, say, 100*45
ssh -i bandit26.sshkey bandit26@localhost -p 2220 #repeat until `more`
#command causes a prompt to use up/down keys

# once you have this, press `v` to get into the `vim shell`

#expand terminal when you are in vim shell 
#add the shell script below to the file
#got a proper shell!

which bash #`bandit26` uses `bash`

ls #files `bandit27-do` and `text.txt`
./bandit27-do # usage instructions; we should run it as another user
#right now, we are `bandit26`; perhaps `bandit27`...

cat /etc/bandit_pass/bandit27 #found password; copy to clipboard or use xclip
#best to copy it manually
cat /etc/bandit_pass/bandit27 | xclip

exit #back to vi/vim
#quit vim using the key bindings `:q!` or `:q` or `:x`

exit #back to our machine

# ** if copied manually
echo p4ssWord > passwd #use the password you copied to clipboard
# ** if used xclip
xclip -o | cat > passwd

sshpass -p $(cat passwd) ssh bandit27@bandit.labs.overthewire.org -p 2220

# command `more`  is a filter for paging through text one screenful at a time
# "screenful" varies y terminal/output media size (whic is why we reduced the
# size of ours)
# type `man more` in terminal and press ENTER


##############################################################################
#                                                                            #
#           ADD THE FOLLOWING TO THE FILE YOU OPEN ON LINE 24                #
#                         REFER TO LINES 29 AND 30                           #
#                                                                            #
##############################################################################

# ** delete leading `#` and space
#  :set shell=/bin/bash
#  :shell
#