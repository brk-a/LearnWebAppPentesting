#!/usr/bin/bash

# ** goal: get to level 15. password is stored in a file
# called `etc/bandit_pass/bandit14`. said file can only be read by user `bandit14`
# twist: we get a SSH key; use said key to get to the password

ls #file sshkey.private
echo "$(whoami)@$(hostname):$PWD" #recall we are inside an OTW server so localhost is that server
ssh bandit14@localhost -p 2220 -i sshkey.private
whoami #bandit14
cat etc/bandit_pass/bandit14 #found password; copy it to your machine's clipboard
exit # back to OTW server
exit # back to our machine
echo p4ssWord > passwd #use the password you found using `cat`
sshpass -p $(cat passwd) ssh bandit15@bandit.labs.overthewire.org -p 2220

# command `ssh` connects and logs into the specified destination, which may be
# specified as either [user@]hostname or a URI of the form
# ssh://[user@]hostname[:port]
# here, we use the flag `i` to tell `ssh` that we do not have a public key (and, instead,
# posses a private key that is in `sshkey.private`)
# type `man ssh` in your terminal and press ENTER