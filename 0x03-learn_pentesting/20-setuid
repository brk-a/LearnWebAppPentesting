#!/usr/bin/bash

# ** goal: get to level 20. password is in `/etc/bandit_pass`
# use the `setuid` binary in `home` to gain access to this level
# hint: execute it w/o args first

ls #file `bandit20-do`
ls -la # permissions for `bandit20-do` are `-rwsr-x---`
#found bin file (because `s` in permissions)
#said `s` allows members of a group to run a file as if they
# were the user owner of the file 
./bandit20-do #run w/o args. shows usage
./bandit20-do id #shows various ids
./bandit20-do cat /etc/bandit_pass/bandit20 #found password
# copy password to clipboard or pipe the output of the previous
# cmd to `xclip` if you have it viz
./bandit20-do cat /etc/bandit_pass/bandit20 | xclip

exit #back to our machine
echo p4ssWord > passwd #use the password you copied to clipboard
sshpass -p $(cat passwd) ssh bandit20@bandit.labs.overthewire.org -p 2220

# command `sshpass` has a feature called ssh command injection
# said feature allows one to "attach" or "inject" commands into a server
# during the logging in session
# type `man sshpass` in terminal and press ENTER