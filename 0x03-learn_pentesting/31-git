#!/usr/bin/bash

# ** aim is to get to level 31
# git repo at `ssh://bandit30-git@localhost/home/bandit30-git/repo`
# password for `bandit30-git` is the same as that of `bandit30`
# clone repo and find the password for the next level

mktemp -d #dir at /tmp/dir-name
cd /tmp/dir-name #use the dir name the system gives you
git clone ssh://bandit30-git@localhost:2220/home/bandit30-git/repo #use
#password for `bandit30`

ls #repo
cd repo
ls #README
cat README #no password; empty file

git log #one commit message; copy commit hash
git branch -r #branche `master`
ls -la #.git file
ls .git #many dirs and files
ls -R .git #many dirs and files
git tag #tag `secret`

git show secret #found password; copy to clipboard
git show secret | xclip

exit #back to our machine

# ** if copied manually
echo p4ssWord > passwd #use the password you copied to clipboard or use xclip
# ** if used xclip
xclip -o | cat > passwd

sshpass -p $(cat passwd) ssh bandit31@bandit.labs.overthewire.org -p 2220

# command `git` allows you to interact with git, the VCS
# type `man git` in terminal and press ENTER