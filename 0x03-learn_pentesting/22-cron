#!/usr/bin/bash

# ** aim is to get to level 22
# a programme is running at regular intervals because `cron`
# look in `/etc/cron.d` for configs and more info

ls #nada
cd /etc/cron.d
ls #a lot of cron jobs; focus on cronjob_bandit22
ls -la #cronjob_bandit22 is a regular file with 644 perms
cat cronjob_bandit22 #the job is to run the script `cronjob_bandit22.sh`  on 
#server `bandit22` every min of every hr of every day of every
#month of every weekday. said script is in `/usr/bin/`
cat /usr/bin/cronjob_bandit22.sh #bash file that sets perms 644 on a file in
#`/tmp`. also stores the contents of `etc/bandit_pass/bandit22` in said file
#copy the path to the file
cat /tmp/file-name #found password. copy to clipboard or use xclip
cat /tmp/file-name | xclip

exit #back to our machine

# ** if copied manually
echo p4ssWord > passwd #use the password you copied to clipboard
# ** if used xclip
xclip -o | cat > passwd

sshpass -p $(cat passwd) ssh bandit22@bandit.labs.overthewire.org -p 2220

# command `cron` examines all stored crontabs, checking each command to see
# if it should be run in the current minute
# type `man cron` in terminal and press ENTER