#!/usr/bin/bash

# ** goal: get to level 19. password is in a file called `readme`
# in the `home` dir
# twist: `.bashrc` has been modified to log you out if you use `ssh`
# (recall `Byebye!` from level 18)

#use the password from `18-compare_files`
sshpass -p $(cat passwd) ssh bandit18@bandit.labs.overthewire.org -p 2220 ls #lists `readme` file
sshpass -p $(cat passwd) ssh bandit18@bandit.labs.overthewire.org -p 2220 cat readme #found password
# copy to machine's clipboard

exit #back to our machine
echo p4ssWord > passwd #use the password you copied to clipboard
sshpass -p $(cat passwd) ssh bandit19@bandit.labs.overthewire.org -p 2220

# command `sshpass` has a feature called ssh command injection
# said feature allows one to "attach" or "inject" commands into a server
# during the logging in session
# type `man sshpass` in terminal and press ENTER