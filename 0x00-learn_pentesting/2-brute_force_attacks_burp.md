# Brute Force Attacks With Burp Suite

* punching bag: [DVWA](https://github.com/digininja/DVWA) in [Metasploitable](https://information.rapid7.com/download-metasploitable-2017.html
* 


### notes
* fire up ~~~the bird~~~ DVWA
* log into DVWA; username is `admin` and password is `password`
* set security level to low. click the `DVWA Security` tab on the left to access this setting
    * this works for sites that are old and/or are poorly, if at all, secured
* click the `Brute Force` tab on the left; you should see a login modal
* fire up ~~the bird~~ Burp Suite
* on your browser, set the proxy configurations manually; ip `127.0.0.1` and port `8080`
* in Burp, turn off intercept; the setting is in `Proxy -> Intercept`
* in DVWA, type in any username and password combination; the more random the better
    * notice that DVWA says that the username-password combination is incorrect
* in Burp, turn on intercept
* in DVWA, type in any username and password combination; notice what happens in Burp
    * Burp intercepts/captures the `GET` request
    * the request shows two variables (on line 1): `username` and `password`; each is set to whatever you entered in DVWA; these are the ones to brute-force using `Burp Intruder`
    * under `Cookie`, the variable security has been set to `low` as expected; you can change it using `Intruder` if you wanted
    * `Intruder` is used to edit/manipulate requests
* send the request to `Intruder`
    * right click anywhere in the request and click on `Send to Intruder`, or, simply, `CTRL+I` (`CMD+I` on mac)
    * forward the request; click `Forward`
* click the `Positions` tab under `Intruder`; the request should be there
    * notice how all the fields that can be brute-forced are highlighted e.g. _username_, _password_, _Login_, _s\_fid_, _s\_nr_, _PHPSESSID_ etc
* click `Clear` at the bottom right; confirm
* select `Cluster bomb` in the drop-down menu next to `Attack type`; this is the attack type to use
    * two values/variables to brute-force; cluster bomb attack suits this because combinations and permutations
* highlight the value of the variable `username` and and click the `Add` button on the right. do the same for the value of the variable `password`
    * example: say the value of _username_ is _test_ and _password_ is _qwerty_. highlight _test_, click `Add` then highlight _qwerty_ and click `Add`
* click the `Payloads` tab next to `Positions`; in the `Payload Sets` section, set the `Payload set` to 1 (for the username)
* set `Payload type` to `Simple list`
* in the `Payload Options [...]` section, add a word list. in the real world, that is added/pasted/loaded into the larger input field; since this is a test environment, add the list in the smaller input field manually
    * use commonly used ones e.g. _admin_, _administrator_, _root_, _test_, _user_, _user1_ etc
* set `Payload set` to 2 (for the password)
* set `Payload type` to `Simple list`
* in the `Payload Options [...]` section, add a word list. in the real world, that is added/pasted/loaded into the larger input field; since this is a test environment, add the list in the smaller input field manually
    * use commonly used ones e.g. _admin_, _administrator_, _root_, _test_, _password_, _password123_, _secret_, _p4$$w07d_, _12345_ etc
* click `Start Attack` at the top right; click `Ok` to please Burp, it it complains and awaaa...y we go
* check the `Status` and `Length` columns in the modal that appears
    * `Status` has [HTTP Status codes](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status); 200 means OK (everything worked), 404 means Not Found (server cannot find the requested resource), 503 is Service Unavailable (server is not ready to handle the request) etc
    * `Length` can help you determine what the possible combination(s) is; look out for numbers that do not fit the pattern
    * in the DVWA example, the username is `admin` and password is `password`. see how the value of `Length`deviates from the pattern? that's it; this is what I'm talking about
* feel free to look at the requests and responses in the respective tabs
* turn off intercept
* in DVWA, use the username and password combination to ascertain that they are the correct ones
