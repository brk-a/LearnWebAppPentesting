# boolean-based sql injection
* send a SQL query to the db and judge whether the payload used returns true or false
* depending on the result (true or false), the content within the HTTP response will change or remain the same
* it is a slow attack; this helps the attacker to enumerate the db
* relies on keywords and functions eg `LIKE`, `LENGTH` etc
* say you have the db from [1-sql][def]
    * say the db is hooked to an app and the app has a log-in page
    * the login page has a form whose input fields are `username` and `password`
* the query in the BE will be

    ```sql
        select * from users
        where uname="goatmatata"
        and passwd="ef92b778bafe771e89245b89ecbc08a44a4e166c06659911881f383d4473e94f";
    ```

* we can use said query to retrieve unauthorised info eg. db name, host username, hostname, db version etc
    * say the username-password pair above is in the db. we can add a query viz

    ```sql
        select * from users
        where uname="goatmatata"
        and passwd="ef92b778bafe771e89245b89ecbc08a44a4e166c06659911881f383d4473e94f"
        and database()="login"; --assume db name is `login`
        -- returns the user because both the uname-password pair and
        -- the db name evaluate to `true`. T && T = T
    ```

    * say the username-password pair above is not in the db. we can add a query viz

    ```sql
        select * from users
        where uname="goatmatata"
        and passwd="ef92b778bafe771e89245b89ecbc08a44a4e166c06659911881f383d4473e94f"
        or database()="login"; --assume db name is `login`
        -- returns null because both the uname-password pair evaluates to `false` and
        -- the db name evaluate to `true`. F || T = T
    ```

* all nice and dandy, however, we are working under the assumption that we already have the db name. how do we get it?
    * eaa...sy! use the `LENGTH` function to find the length of the name of the db (is it beginning to look like a brute-force attack?)
    
[def]: ./1-sql.md