# SQLI
* SQL injection
* consider a log-in page
    * on the FE, there is a form with the fields `username`, `password` etc
    * on the BE, there is the logic that compares the values entered in the form to those stored in the DB, creates sessions etc
    * the compare-values-to-DB part is where SQLI comes in
* consider the following

    ```php
        <?php
        include_once 'includes/config.php';
        if(isset($_POST)&&!empty($_POST)){
            echo $sql="select * from login 
            where username='".$_POST['username']."'
            and password='".$_POST['password']."'";
            $res = mysqli_query($con, $sql);
            $cnt = mysqli_num_rows($res);
            if($cnt>0){
                $_SESSION['login']='true';
                header("location:index.php");
            } else {
                header("login.php");
            }
        }
        ?>
    ```

* notice the part where a SQL query is made to DB `login`

    ```php
        $sql="select * from login 
            where username='".$_POST['username']."'
            and password='".$_POST['password']."'";
    ```

* the query returns all rows whose `username` and `password` fields are the values passed in the the request
* there is a vulnerability here: we can pass a [tautology][def]
    * example

        ```sql
            select * from login
            where username='fnjakai'
            and password='x' or 1=1;#';
        ```

[def]: https://en.wikipedia.org/wiki/Tautology_(logic)